@model HeaderDto
@{
    string currentController = ViewContext.RouteData.Values["controller"]?.ToString()?.ToLower() ??"home";
    string currentLanguage = Context.Request.Query["lang"].ToString() ?? "az";

}

<header class="header_section">
    <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container">
            <a class="navbar-brand" asp-action="index" asp-route-lang="@currentLanguage" asp-controller="Home">
                <span>
                    Connex
                </span>
            </a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class=""> </span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav" style="align-items:center;  font-family: 'Noto Sans', sans-serif;">
                    <li class="nav-item @(currentController == "home" ? "active" : "")">
                        <a class="nav-link" id="headerHome" asp-action="index" asp-route-lang="@currentLanguage" asp-controller="Home">Əsas səhifə </a>
                    </li>
                    <li class="nav-item @(currentController == "about" ? "active" : "")">
                        <a class="nav-link" id="headerAbout" asp-action="index" asp-route-lang="@currentLanguage" asp-controller="About"> Haqqımızda </a>
                    </li>
                    <li class="nav-item @(currentController == "service" ? "active" : "")">
                        <a class="nav-link" id="headerServices" asp-action="index" asp-route-lang="@currentLanguage" asp-controller="Service">Xidmətlər</a>
                    </li>
                    <li class="nav-item @(currentController == "project" ? "active" : "")">
                        <a class="nav-link" id="headerProjects" asp-action="index" asp-route-lang="@currentLanguage" asp-controller="Project">Layihələr</a>
                    </li>
                    <li class="nav-item @(currentController == "contact" ? "active" : "")">
                        <a class="nav-link" id="headerContact" asp-action="index" asp-route-lang="@currentLanguage" asp-controller="Contact">Əlaqə</a>
                    </li>
                    <li class="nav-item">
                        <div class="dropdown">
                            <button class="dropbtn">
                                <img src="@Model.SelectedLanguage.ImagePath" alt="@Model.SelectedLanguage.Code" class="flag-icon">
                            </button>
                            <div class="dropdown-content">
                                @foreach (var language in Model.Languages)
                                {
                                    <a style="@(language.Id==Model.SelectedLanguage.Id ? "background-color:#180c65" : "") " href="?lang=@language.Code"><img src="@language.ImagePath" alt="@language.Code" class="flag-icon"></a>
                                }

                            </div>
                        </div>
                    </li>
                   
                </ul>
            </div>
        </nav>
    </div>
</header>
